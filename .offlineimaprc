[general]
metadata = ~/.local/share/offlineimap
accounts = desy
pythonfile = ~/bcn_scripts/offlineimap.py
socktimeout = 120
maxsize = 10000000
fsync = False

[Account desy]
localrepository = desy-local
remoterepository = desy-remote
status_backend = sqlite
postsynchook = notmuch new

[Repository desy-local]
type = Maildir
localfolders = ~/.mail/desy

[Repository desy-remote]
type = IMAP
remoteuser = bcho
remotehost = mail.desy.de
remoteport = 993
cert_fingerprint = ffc2905d13a23848fc8a3816d86d47a789e3e26d
ssl = yes
# these are known to be broken:
# http://www.offlineimap.org/configuration/2016/01/29/why-i-m-not-using-maxconnctions.html
# maxconnections = 1
# maxsyncaccounts = 1
remotepasseval = get_pass('desy')
folderfilter = lambda foldername: 'Contacts' not in foldername and 'Trash' not in foldername

[Account googlemail]
localrepository = googlemail-local
remoterepository = googlemail-remote
status_backend = sqlite
postsynchook = notmuch new

[Repository googlemail-local]
type = Maildir
localfolders = ~/.mail/gmail

[Repository googlemail-remote]
type = Gmail
remoteuser = bijan.chokoufe@gmail.com
realdelete = no
folderfilter = lambda foldername: foldername not in ['[Google Mail]/Spam', '[Google Mail]/Gesendet', '[Google Mail]/Alle Nachrichten', '[Google Mail]/Wichtig']
# Necessary as of OfflineIMAP 6.5.4
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
ssl = yes
createfolders = False
remotepasseval = get_pass('gmail')
